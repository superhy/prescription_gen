# TODO: Add comment
# 
# Author: superhy
###############################################################################


library(gcookbook)
library(ggplot2)
library(scales)

path <-"/home/superhy/prescription-gen-file/res/plot/his_csv/1c.csv"
## path <-"/home/superhy/prescription-gen-file/res/plot/his_csv/test.csv"
 
## data <-read.csv(path, sep=",", header=FALSE, stringsAsFactors=TRUE)
## names(data) <-c("X", "avg_his", "avg_max", "avg_min")
## 
## data$avg_his <-c(factor(data$avg_his))
## data$epochs <- c(factor(data$X))

epochs <- seq(0, 80, by=1)
loss <- c(0.10000000000000001, 0.086002160794350704, 0.083222830486603269, 0.081980154565074945, 0.07979263851603309, 0.077472479592312821, 0.077240816026161868, 0.07681200852815484, 0.075427223504572122, 0.075087916092339904, 0.074752772946060808, 0.074804603622291549, 0.074346455814310056, 0.07386053572971743, 0.074155276814550697, 0.073762079210945103, 0.074134408218629197, 0.073845860225595403, 0.073265364607830188, 0.072939334102930159, 0.072983628241242937, 0.072746310896161709, 0.072991642077545535, 0.073553363542198699, 0.073148847155736912, 0.072695084797702855, 0.072375401349622254, 0.072812118214783658, 0.072864615114835593, 0.072339476991594931, 0.072712262531558242, 0.072713040557754779, 0.07288183607024587, 0.072554012775530308, 0.072544930487762005, 0.072802409565164927, 0.072788206078521503, 0.072627549724919443, 0.072798785398076299, 0.072768833392705665, 0.073171526695782446, 0.073148997826672307, 0.07280272521597124, 0.072950948160755757, 0.073252882729301513, 0.073113124127134735, 0.074078480648252121, 0.073382767865727658, 0.07346340673856247, 0.073229340657646386, 0.073569138697433825, 0.07357188065846762, 0.073606190794990173, 0.073937817098020192, 0.073958931156457991, 0.073824296951730609, 0.074140274519230415, 0.07436450443097524, 0.074550488814984495, 0.0742790019173762, 0.074511380668306509, 0.074351052197562911, 0.074616738741760294, 0.074918283429337956, 0.074843591145980048, 0.07513168146322062, 0.075270500356133613, 0.075478201261261008, 0.075317071050733, 0.075464115976850626, 0.075427823309059977, 0.075503423684464263, 0.075777320083462704, 0.076145978970623709, 0.075872521296198106, 0.076052576298023755, 0.076300870236896343, 0.076316103743109515, 0.076321168500425182, 0.076468474988317325, 0.076401304794755182)
max <- c(0.10000000000000001, 0.094354435255675967, 0.087476564250586239, 0.084582667347494062, 0.082648455468944573, 0.080871763956415779, 0.079111604381611939, 0.079399690987207949, 0.075809405304682567, 0.075559642561626089, 0.075576880967224036, 0.07558056444693835, 0.07664550295024565, 0.074628013230505441, 0.075914142114338862, 0.074740563829739884, 0.076392489038544259, 0.075247798155952283, 0.074298041534947831, 0.073923923266239658, 0.074460766690991304, 0.073227773164654827, 0.073633454166925877, 0.07493029076319474, 0.074834931464422313, 0.073436133208728965, 0.073350705997847807, 0.074248885769983786, 0.073588807777170737, 0.072918055913387195, 0.073180857268008562, 0.073752941775234629, 0.073202924686910475, 0.073762635935793866, 0.073210323577398775, 0.073518787548218889, 0.073517232723943476, 0.073171178690898106, 0.073548958524242869, 0.073328621385298373, 0.075150431621642338, 0.074544586295828275, 0.073776940177211828, 0.073580720594951091, 0.074922639044213202, 0.073598212265706328, 0.076972457515451065, 0.073646268892637534, 0.074089988656751399, 0.074155031979739008, 0.074070201333844177, 0.074012958604992532, 0.074347002247532643, 0.074397328790727552, 0.074868782235807549, 0.074310230602929878, 0.074632484998021803, 0.075781309042439793, 0.075360622816470074, 0.074812421813989297, 0.075097200088885235, 0.075253658460610079, 0.075383121304677961, 0.075335221794935375, 0.075531736289188536, 0.076059608150532837, 0.076196893804020935, 0.077168807933182065, 0.075935948735628367, 0.076114119845868911, 0.076309021466817617, 0.075912874342102712, 0.076420662167308098, 0.076818761698928942, 0.076783981815580923, 0.076569132261223846, 0.077033146151474538, 0.077015194673459603, 0.077178199867625807, 0.07724131611022321, 0.076839848534091482)
min <- c(0.10000000000000001, 0.082877245550845566, 0.080715613978686346, 0.079073231503531169, 0.078410634409376984, 0.075592853101618562, 0.075925353682521499, 0.07568287347262595, 0.074877644060077242, 0.074642466374369332, 0.07344985447632961, 0.074057137573158349, 0.073030764107411592, 0.072519380094367508, 0.073535821212953698, 0.073288975890739502, 0.072622019251733477, 0.073264023077575277, 0.071930886515767581, 0.071531140010108005, 0.071576875221707442, 0.07144167551245445, 0.071955215581607473, 0.072507068214617373, 0.071083955548621791, 0.071288669024740819, 0.070948548683207546, 0.071752713986368843, 0.071208048789274128, 0.071299145414388226, 0.071520301857929083, 0.071867188909551599, 0.072461734870414587, 0.071410528537663789, 0.070982541602391466, 0.071540203900673449, 0.071785687240379634, 0.071468009971655339, 0.071532021512042035, 0.071473026614049417, 0.071891405370645908, 0.071692539003742478, 0.07176125437130422, 0.07175722482167321, 0.071614007428015547, 0.071952823945235861, 0.073039873915932557, 0.072956327881131849, 0.072222047127210171, 0.071833805723504701, 0.072636968732535181, 0.072527949544754652, 0.072598971044405908, 0.073598404316020105, 0.072901901894764143, 0.072770208120346069, 0.073300426314165307, 0.073113322776534179, 0.073576366917772612, 0.073164691855182581, 0.073492653913550324, 0.072870450660640934, 0.073647955070921783, 0.07421344892555104, 0.073715144324870335, 0.073779685211268972, 0.074235487783893994, 0.074493920887673731, 0.07458640304786382, 0.074711141077590082, 0.074406759779313547, 0.074832278430025226, 0.075184315934286011, 0.075415217123188813, 0.074982276643479701, 0.075372298258346515, 0.075537313717407184, 0.075399751519108868, 0.075558446866252044, 0.075754476445061822, 0.075979160547474806)
df <- data.frame(x=epochs, y=loss, z1=max, z2=min)
## df$epochs <- factor(df$x)
## df$loss <- factor(df$y)

ppi <- 200
png('/home/superhy/prescription-gen-file/res/plot/his_csv/test_line.png', width = 3*ppi, height=3*ppi)
## sp <- qplot(data$epochs, data$loss, group=1, geom="line", col="red")
sp <- ggplot(data=df, mapping=aes(x=epochs, y=loss, group=1)) + 
		geom_ribbon(aes(ymin=min, ymax=max), alpha=0.3) + geom_line(aes(col="red"))
sp <- sp + coord_fixed(ratio=1800/1) + scale_y_continuous(limits=c(0.06, 0.1), breaks=seq(0.06, 0.1, by=0.01)) + scale_x_continuous(limits=c(0, 80), breaks=seq(0, 80, by=20))
sp <- sp + theme_bw() # + theme(axis.line = element_line(colour="black")) # + theme(panel.grid =element_blank())
sp

dev.off()